<template>
    <div class="main-page">
        <h1>„Éõ„ÉÜ„É´„ÇíÊé¢„Åô</h1>

        <!-- üî∏Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
         <div class="search-form">
            <!-- „Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢ -->
             <input
             v-model="searchKeyword"
             type="text"
             placeholder="„Éõ„ÉÜ„É´Âêç„ÇÑ„Ç≠„Éº„ÉØ„Éº„Éâ"
             />

             <!-- üî∏„ÉÅ„Çß„ÉÉ„ÇØ„Ç§„É≥„Éª„Ç¢„Ç¶„Éà -->
              <div class="date-pickers">
                <label>               
                    „ÉÅ„Çß„ÉÉ„ÇØ„Ç§„É≥:
                    <input type="date" v-model="checkInDate"/>
                </label>
                <label>
                    „ÉÅ„Çß„ÉÉ„ÇØ„Ç¢„Ç¶„Éà:
                    <input type="date" v-model="checkOutDate"/>
                </label>
         </div>

         <!-- üî∏Âú∞ÂüüÈÅ∏Êäû -->
          <div class="regoin-select">
            <button @click="toggleRegionList">
                Âú∞Âüü„ÇíÈÅ∏„Å∂
            </button>
            <div v-if="showRegions" class="region-list">
                <button v-for="pref in prefectures":key="pref"@click="selectRegion(pref)">
                    {{ pref }}
                </button>
            </div>
            <p v-if="selectedRegion">ÈÅ∏Êäû‰∏≠:{{ selectedRegion }}</p>
          </div>

          <!-- üî∏Ê§úÁ¥¢„Éú„Çø„É≥ -->
           <button @click="searchHotels">Ê§úÁ¥¢</button>
         </div>
    </div>
</template>

<script setup>
import {ref} form 'vue'
import {useRouter} from 'vue-router'

const router=useRouter()

const searchKeyword=ref('')
const checkInDate=ref('')
const checkOutDate=ref('')
const selectedRegion=ref('')
const showRegions=ref(false)

const toggleRegionList=()=>{
    selectedRegion.value=region
    showRegions.value=false
}

const prefectures[
    'ÂåóÊµ∑ÈÅì','ÈùíÊ£ÆÁúå','ÁßãÁî∞Áúå','Â≤©ÊâãÁúå','ÂÆÆÂüéÁúå','Â±±ÂΩ¢Áúå','Á¶èÂ≥∂Áúå',
    'Ëå®ÂüéÁúå','Ê†ÉÊú®Áúå','Áæ§È¶¨Áúå','ÂüºÁéâÁúå','ÂçÉËëâÁúå','Êù±‰∫¨ÈÉΩ','Á•ûÂ•àÂ∑ùÁúå',
    'Êñ∞ÊΩüÁúå','ÂØåÂ±±Áúå','Áü≥Â∑ùÁúå','Á¶è‰∫ïÁúå','Â±±Ê¢®Áúå','Èï∑ÈáéÁúå',
    'Â≤êÈòúÁúå','ÈùôÂ≤°Áúå','ÊÑõÁü•Áúå','‰∏âÈáçÁúå'
    'ÊªãË≥ÄÁúå','‰∫¨ÈÉΩÂ∫ú','Â§ßÈò™Â∫ú','ÂÖµÂ∫´Áúå','Â•àËâØÁúå','ÂíåÊ≠åÂ±±Áúå',
    'Â≤°Â±±Áúå','È≥•ÂèñÁúå','Â≥∂Ê†πÁúå','Â∫ÉÂ≥∂Áúå','Â±±Âè£Áúå',
    'Âæ≥Â≥∂Áúå','È¶ôÂ∑ùÁúå','È´òÁü•Áúå','ÊÑõÂ™õÁúå',
    'Á¶èÂ≤°Áúå','‰ΩêË≥ÄÁúå','Èï∑Â¥éÁúå','Â§ßÂàÜÁúå','ÁÜäÊú¨Áúå','ÂÆÆÂ¥éÁúå','ÈπøÂÖêÂ≥∂Áúå',
    'Ê≤ñÁ∏ÑÁúå'
]

const searchHotels=()=>{
    router.push({
        path:'hotels',
        query:{
            keyword: searchKeyword.value,
            region: selectedRegion.value,
            checkIn: checkInData.value,
            checkOut: checkOutDate.value
        }
    })
}
</script>

<style scoped>
.main-page {
  padding: 40px;
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
}
.search-form {
  margin-top: 20px;
}
input[type="text"],
input[type="date"] {
  margin: 10px;
  padding: 8px;
  width: 80%;
  max-width: 400px;
  font-size: 16px;
}
button {
  margin: 10px;
  padding: 8px 16px;
}
.region-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  margin: 10px 0;
}
.region-list button {
  background: #f0f0f0;
  border: 1px solid #ccc;
  padding: 6px 10px;
  cursor: pointer;
}
</style>

